!function(){"use strict";var t={912:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i,n=(i=r(900))&&i.__esModule?i:{default:i},a=function(t){return"object"==typeof t},s=function(t){return t.replace(/[ _.-](\w|$)/g,(function(t,e){return e.toUpperCase()}))};e.default=function t(e){var r=null==e?e:(0,n.default)(e,(function(e,r){var i=[];return Array.isArray(r)?(r.forEach((function(e){a(e)&&!Array.isArray(e)?i.push(t(e)):i.push(e)})),[s(e),i]):r?r instanceof Date?[s(e),r]:a(r)?[s(e),t(r)]:[s(e),r]:[s(e),r]}));return Array.isArray(e)?function(t){return Object.keys(t).map((function(e){return t[e]}))}(r):r},t.exports=e.default},900:function(t){t.exports=function(t,e){for(var r={},i=Object.keys(t),n=0;n<i.length;n++){var a=i[n],s=e(a,t[a],t);r[s[0]]=s[1]}return r}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,r),a.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};!function(){r.r(i),r.d(i,{default:function(){return c}});var t=r(912),e=r.n(t),n=t=>t&&t.constructor==={}.constructor,a=function t(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(!i.length)return e;var s=i.shift();if(n(e)&&n(s))for(var o in s)n(s[o])?(e[o]||Object.assign(e,{[o]:{}}),t(e[o],s[o])):Object.assign(e,{[o]:s[o]});return t(e,...i)};function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class c{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._subscriptions=[],this._data={},this._options={},this._defaultOptions={defaultValue:void 0,triggerSubscriptionCallback:void 0,isFunction:!1,sameReferenceCheck:!0},this._setDefaults(t)}get(t){return this._get(t,this._data)}set(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"==typeof t)return this._setMultiple(t,e);void 0!==r.defaultValue&&this.setOptions(t,{defaultValue:r.defaultValue});var i=this._getOptions(t),n=this._get(t,this._data);"function"==typeof e&&r.isFunction&&(e=e(n,this._getDefaultValue(t))),e=this._transformValue(e,n,i);var s=t.split(".").reduceRight(((t,e)=>({[e]:t})),e);return i&&i.sameReferenceCheck&&this._get(t,this._data)===this._get(t,s)||(this._data=a(this._data,s),(void 0===r.triggerSubscriptionCallback||r.triggerSubscriptionCallback)&&this._triggerSubscriptionCallbacks(t,s,r)),{name:t,value:e}}setOptions(t,e){if(this._options[t]=e,void 0!==e.defaultValue&&void 0===this.get(t)){var r=t.split(".").reduceRight(((t,e)=>({[e]:t})),e.defaultValue);this._data=a(this._data,r)}}getDefaultValue(t){return this._getDefaultValue(t)}subscribe(t,e){var r=Symbol();if(Array.isArray(t))t.forEach((t=>{var i={id:r,name:t,callback:e};this._subscriptions.push(i)}));else{var i={id:r,name:t,callback:e};this._subscriptions.push(i)}return{unsubscribe:this._unsubscribe.bind(this,r)}}unsubscribeAll(t){this._subscriptions.forEach(((e,r)=>{e.name===t&&delete this._subscriptions[r]}))}triggerSubscriptionCallbacks(t,e){this._triggerSubscriptionCallbacks(t,!1,e)}_get(t,e){return t?t.split(".").reduce(((t,e)=>t?t[e]:void 0),e):e}_setMultiple(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.keys(t).map((r=>this.set(r,t[r],o(o({},e),{},{triggerSubscriptionCallback:!1}))));return this._triggerSubscriptionCallbacks(),r}_setDefaults(t){var e=this._objectToDotNotation(t);Object.keys(e).forEach((t=>this.setOptions(t,{defaultValue:e[t]})))}_getDefaultValue(t){var e=this._getOptions(t);if(e)return e.defaultValue}_hasSubArray(t,e){return e.every((e=>r=>e=t.indexOf(r,e)+1)(0))}_triggerSubscriptionCallbacks(t,e,r){if(this._subscriptions){var i="object"==typeof e&&e.constructor===Object?Object.keys(this._objectToDotNotation(e)):[];this._subscriptions.forEach((e=>{t&&e.name&&!this._hasSubArray(t.split("."),e.name.split("."))&&-1===i.indexOf(e.name)||e.callback(this._get(e.name,this._data),e.name,r)}))}}_unsubscribe(t){this._subscriptions.forEach(((e,r)=>{e.id===t&&delete this._subscriptions[r]}))}_objectToDotNotation(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.entries(t).reduce(((t,i)=>{var[a,s]=i,o="".concat(e).concat(a);return n(s)?this._objectToDotNotation(s,"".concat(o,"."),t):r[o]=s,t}),r)}_getOptions(t){var e=Object.keys(this._options).filter((e=>!t||!e||this._hasSubArray(t.split("."),e.split(".")))).reduce(((t,e)=>(t[e]=this._options[e],t)),{});return this._findOptionsByName(t,e)}_findOptionsByName(t,e){for(var r=null,i=t.split("."),n=1;n<=i.length;++n)r=e[i.slice(0,n).join(".")]||r;return o(o({},this._defaultOptions),r)}_transformValue(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i)return t;switch(i.type){case"custom":t=i.function(t,r,i.defaultValue);break;case"number":t=Number(t),isNaN(t)&&(t=0);break;case"integer":t=parseInt(t),isNaN(t)&&(t=0);break;case"float":t=parseFloat(t),isNaN(t)&&(t=0);break;case"boolean":t=this._toBoolean(t);break;case"json":if("string"!=typeof t)break;try{t=JSON.parse(t)}catch(t){}try{t=e()(t)}catch(t){}}return i.allowedValues&&0===i.allowedValues.filter((e=>t===e)).length?void 0!==i.defaultValue?i.defaultValue:null:t}_toBoolean(t){return null!=t&&!1!==t&&"false"!==t}}}();var n=exports;for(var a in i)n[a]=i[a];i.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})}();